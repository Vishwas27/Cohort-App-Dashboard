import streamlit as st
import pandas as pd

def file_uploader_page():
    # Page title
    st.header("File Uploader Page")

    # Container 1: File selection and upload
    with st.container():
        st.subheader("Upload a Parquet File")
        
        # File uploader widget for Parquet files
        uploaded_file = st.file_uploader("Choose a Parquet file", type=["parquet"])
        
    # Container 2: Upload status
    with st.container():
        st.subheader("Upload Status")
        
        # Check if a file is uploaded and display status
        if uploaded_file is not None:
            st.success("File uploaded successfully!")
        else:
            st.info("Awaiting file upload...")

    # Container 3: Data preview
    with st.container():
        st.subheader("Data Preview")
        
        # If file uploaded, load and display the first 10 rows of the file
        if uploaded_file is not None:
            try:
                # Load the Parquet file into a DataFrame
                df = pd.read_parquet(uploaded_file)
                # Display the first 10 rows
                st.dataframe(df.head(10))
            except Exception as e:
                st.error(f"Error loading file: {e}")

